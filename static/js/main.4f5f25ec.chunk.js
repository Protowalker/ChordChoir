(this["webpackJsonpchord-sequencer-static"]=this["webpackJsonpchord-sequencer-static"]||[]).push([[0],{70:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r,a=n(3),c=n.n(a),i=n(7),o=n(8),s=n(0),u=n.n(s),l=n(15),f=n.n(l),h=(n(70),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),j=n(11),b=n(18),O=n(1),d=n(2),v=n(110),p=n(12);!function(e){e.A="A",e.B="B",e.C="C",e.D="D",e.E="E",e.F="F",e.G="G"}(r||(r={}));var g,x=function(){function e(){Object(O.a)(this,e),this.letter=r.A,this.sharp=!1,this.octave=0}return Object(d.a)(e,[{key:"getNumber",value:function(){var e="CDEFGBA",t=2*e.indexOf(this.letter);return t/2>e.indexOf("B")&&(t-=1),t/2>e.indexOf("E")&&(t-=1),12*this.octave+t+(this.sharp?1:0)}},{key:"getFreq",value:function(){return 440*Math.pow(1.059463094359,this.getNumber()-49)}},{key:"offset",value:function(t){return e.fromNumber(this.getNumber()+t)}},{key:"toString",value:function(){return this.letter+(this.sharp?"#":"")+this.octave}}],[{key:"fromNumber",value:function(e){var t=[S("C"),S("C#"),S("D"),S("D#"),S("E"),S("F"),S("F#"),S("G"),S("G#"),S("A"),S("A#"),S("B")][e%12],n=Math.floor(e/12);return t.octave=n,t}}]),e}();function m(e){var t=Object(s.useRef)(null),n=[];for(var r in g)n.push(r);return n=n.filter((function(e){return isNaN(parseInt(e))})),Object(p.jsx)("select",{ref:t,onChange:function(){var n;return e.onChange(null===(n=t.current)||void 0===n?void 0:n.value)},children:n.map((function(t){return Object(p.jsx)("option",{value:t,selected:t===e.currentMode,children:t},t)}))})}function S(e){var t,n=e[0],r="#"===e[1];t=e[1]&&e[2]?parseInt(e[2]):r?0:parseInt(e[1]);var a=new x;return a.letter=n,a.octave=t,a.sharp=r,a}!function(e){e.Root="Root",e.Major="Major",e.Minor="Minor",e.Sus2="Sus2",e.Sus4="Sus4"}(g||(g={}));var y,C=function(e,t){return Array.from({length:t-e},(function(t,n){return n+e}))};function k(e){var t=Object(s.useRef)(null),n=e.startingNote.getNumber();return Object(p.jsx)(v.a,{container:!0,item:!0,justify:"center",children:Object(p.jsx)("select",{ref:t,onChange:function(){var n,r;return e.onChange(x.fromNumber(parseInt(null!==(n=null===(r=t.current)||void 0===r?void 0:r.value)&&void 0!==n?n:"A0")))},children:C(0,12).map((function(t){return Object(p.jsxs)("option",{value:n+t,children:[" ",e.startingNote.offset(t).toString()," "]},t)}))})})}!function(e){e[e.Off=0]="Off",e[e.Normal=1]="Normal",e[e.Flat=2]="Flat",e[e.Sharp=3]="Sharp"}(y||(y={}));var N=function e(){Object(O.a)(this,e),this.seventh=y.Off,this.ninth=y.Off,this.eleventh=y.Off},w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S("C4"),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.Major,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new N;Object(O.a)(this,e),this.base=void 0,this.mode=void 0,this.extensions=void 0,this.base=t,this.mode=n,this.extensions=r}return Object(d.a)(e,[{key:"getArray",value:function(){var e,t,n=(e={},Object(b.a)(e,g.Major,[0,4,7]),Object(b.a)(e,g.Minor,[0,3,7]),Object(b.a)(e,g.Root,[0,7]),Object(b.a)(e,g.Sus2,[0,2,7]),Object(b.a)(e,g.Sus4,[0,5,7]),e),r=[],a=Object(j.a)(n[this.mode]);try{for(a.s();!(t=a.n()).done;){var c=t.value;r.push(this.base.offset(c).toString())}}catch(o){a.e(o)}finally{a.f()}function i(e){return[-1,0,1][[y.Flat,y.Normal,y.Sharp].indexOf(e)]}return console.log(this.extensions),this.extensions.seventh!==y.Off&&r.push(this.base.offset(10+i(this.extensions.seventh)).toString()),this.extensions.ninth!==y.Off&&r.push(this.base.offset(14+i(this.extensions.ninth)).toString()),this.extensions.eleventh!==y.Off&&r.push(this.base.offset(17+i(this.extensions.eleventh)).toString()),r}}]),e}(),F=n(118),M=n(117),A=n(116),E=n(113),R=n(114),I=n(24);h();function B(e){var t=Object(s.useState)(g.Major),n=Object(o.a)(t,2),r=n[0],a=n[1],c=Object(s.useState)(S("C4")),i=Object(o.a)(c,2),l=i[0],f=i[1];function h(e){var t=Object(s.useRef)(null),n=Object(s.useRef)(null),r=Object(s.useRef)(null);function a(a,c){if(0!=c){if(null!==t.current&&null!==n.current&&null!==r.current){t.current.checked=!1,n.current.checked=!1,r.current.checked=!1,[t.current,n.current,r.current][a].checked=!0;var i=[y.Flat,y.Normal,y.Sharp][a];e.updateExtension(i)}}else e.updateExtension(y.Off)}return Object(p.jsxs)(v.a,{container:!0,item:!0,direction:"row",justify:"space-between",wrap:"nowrap",alignItems:"center",children:[Object(p.jsx)(F.a,{style:{margin:0},control:Object(p.jsx)(M.a,{color:"secondary",inputRef:t,checked:e.extensionState==y.Flat,onChange:function(e){return a(0,e.target.checked)}}),label:"\u266d",labelPlacement:"top"}),Object(p.jsx)(F.a,{style:{margin:0},control:Object(p.jsx)(M.a,{color:"secondary",inputRef:n,checked:e.extensionState==y.Normal,onChange:function(e){return a(1,e.target.checked)}}),label:e.number,labelPlacement:"top"}),Object(p.jsx)(F.a,{style:{margin:0},control:Object(p.jsx)(M.a,{color:"secondary",inputRef:r,checked:e.extensionState==y.Sharp,onChange:function(e){return a(2,e.target.checked)}}),label:"\u266f",labelPlacement:"top"})]})}var j=Object(s.useState)(y.Off),b=Object(o.a)(j,2),O=b[0],d=b[1],x=Object(s.useState)(y.Off),C=Object(o.a)(x,2),N=C[0],E=C[1],R=Object(s.useState)(y.Off),I=Object(o.a)(R,2),B=I[0],D=I[1];return u.a.useEffect((function(){var t=new w(l,r,{seventh:O,ninth:N,eleventh:B});e.onChordChange(t)}),[r,l,O,N,B]),Object(p.jsx)(A.a,{bgcolor:e.index%2?"primary.light":"primary.dark",pt:1,children:Object(p.jsxs)(v.a,{container:!0,item:!0,direction:"column",alignItems:"stretch",justify:"space-around",spacing:2,children:[Object(p.jsx)(k,{startingNote:S("C4"),onChange:f}),Object(p.jsx)(v.a,{container:!0,item:!0,justify:"center",children:Object(p.jsx)(m,{onChange:a,currentMode:r})}),Object(p.jsxs)(v.a,{container:!0,item:!0,direction:"column",alignItems:"center",children:[Object(p.jsx)(h,{number:7,extensionState:O,updateExtension:d}),Object(p.jsx)(h,{number:9,extensionState:N,updateExtension:E}),Object(p.jsx)(h,{number:11,extensionState:B,updateExtension:D})]})]})})}var D=new I.a(I.c,{volume:-15}).toDestination();function P(){var e=Object(s.useState)(4),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)(n),u=Object(o.a)(a,2),l=u[0],f=u[1],h=Object(s.useState)(Array(n).fill(new w)),j=Object(o.a)(h,2),b=j[0],O=j[1];var d=Object(s.useState)(120),g=Object(o.a)(d,2),x=g[0],m=g[1],S=Object(s.useState)(x),y=Object(o.a)(S,2),k=y[0],N=y[1];var F=Object(s.useState)(!1),M=Object(o.a)(F,2),P=M[0],G=M[1],q=Object(s.useState)(null),T=Object(o.a)(q,2),J=T[0],L=T[1];function z(){return(z=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==P){e.next=9;break}return e.next=3,I.e();case 3:G(!0),t=new I.b((function(e,t){D.triggerAttackRelease(b[t].getArray(),"8n",e+.1)}),C(0,n),"4n").start(0),L(t),I.d.start("+0.1"),e.next=12;break;case 9:J.stop(),I.d.stop(),G(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(A.a,{children:[Object(p.jsx)(E.a,{onClick:function(){return z.apply(this,arguments)},children:!1===P?"Start":"Stop"}),Object(p.jsx)(R.a,{type:"number",value:l,onChange:function(e){var t;return f(parseInt(null===(t=e.target)||void 0===t?void 0:t.value))},onBlur:function(){var e=l;if(isNaN(l)&&(f(0),e=0),r(e),b.length>e)O(b.slice(0,e));else if(b.length<e){for(var t=b.slice();t.length<e;)t.push(new w);O(t)}},label:"Note Count"}),Object(p.jsx)(R.a,{type:"number",value:k,onChange:function(e){return N(parseInt(e.target.value))},onBlur:function(){var e=k;isNaN(k)&&(e=120,N(120)),m(e),I.d.bpm.value=e},label:"Tempo (BPM)"}),Object(p.jsx)(v.a,{container:!0,children:b.map((function(e,t){return Object(p.jsx)(B,{chord:e,index:t,onChordChange:function(e){return function(e,t){var n=b.slice();n[t]=e,O(n)}(e,t)}},t)}))})]})}I.d.bpm.value=120,f.a.render(Object(p.jsx)(u.a.StrictMode,{children:Object(p.jsx)(P,{})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.4f5f25ec.chunk.js.map